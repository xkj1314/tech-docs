# Alibaba Cloud料金ホワイトペーパー

Tags ： AlibabaCloud Price Bill

---

本文の概要内容は下記の通りです：

> * Alibaba Cloud 料金の基本的な考え方の紹介
> * Alibaba Cloud 課金体系の紹介
> * Alibaba Cloud お支払い関連の紹介
> * 代表的なプロダクトの料金体系の紹介

[toc]

> ## 初めに

本文の目的は、[Alibaba Cloud](https://jp.alibabacloud.com)上課金項目の設定ルールや料金計算方法などを紹介し、お客様はAlibabaCloudの料金体系に対しての理解を深めて、今後のコスト管理と最適化を役にたつと思います。
![image_1dcghej001fom18mo10ug1c1c9cp2e.png-763.4kB][1]

> ## 基本概念


まずお買い物の一般論からいくつ料金関連の基本概念を紹介したいと思います。

### キーワード１：レンタル

一般的に、お客様の買い物は買った物に対しての`所有権`有無によって２種類に分けられています。

- **所有権あり**：お金を払って、物の所有権はお客様に所有するケース。この後のすべての権利もお客様に所有する。例：りんごを買って、自分食べるか、捨てるか、他人にあげるか、どんな処分しても構いません。
![image_1dcgh18uuttn1t90uos5v6ilj9.png-485.6kB][2]

- **所有権なし**：お金を払って、物の所有権ではなく、一定期間内の`使用権`のみをお客様が所有するケース。例：ホテルの部屋を一週間を泊まって、一週間内でこの部屋内のものを使用する権利がありますが、損壊してはいけません。一週間後にこの部屋から出ないと行けない。
![image_1dcgh6d6n8o8gl817ei157vcbb18.png-10459.6kB][3]

クラウド上の商品は、基本的にはお客様はデータセンターのリリース（CPU、DISK、NetWork）やアプリケーション（API）をある時間帯でレンタルし、自身のビジネスを行うという形です。なので、クラウド上料金の設定は基本的には`レンタル式`の考え方です。

### キーワード２：前払いと後払い

買い物の時、お金の支払いタイミングによって、課金方法は前払いと後払いを２種類に分けられています。

- **前払い**：`サブスクリプション`或いは`プリペイド`（Prepaid）という名前もよく使われています。支払いが行われた後にリソースを使用できます。これは世の中で一般的な支払い方法です。
- **後払い**：`従量課金`或いは`ポストペイド`（Postpaid）という名前もよく使われています。従量課金の料金は実際の使用量に基づく後払いで、リソースはいつでも作成およびリリースできるため、とても柔軟性高い支払い方法です。

２つ課金方法は特徴によってそれぞれのメリットとデメリットがあります。詳しい比較は下記表にご参照ください。

| 比較項目        | サブスクリプション  |  従量課金  |
| --------        | :-----:             | :----:     |
| 支払い          | 前払い              |   後払い     |
| 決済サイクル    | 週／月／年          |  １時間  |
| 柔軟性          | 低                  |  高     |
| 平均単価        | 低                  |  高   |
| 利用シーン      | 長時間利用          |  短時間利用   |
| 料金滞納リスク  | なし                |  あり  |
| すぐリリース    | 不可                |  可能  |

Alibaba Cloudは`サブスクリプション`と`従量課金`の両方をサポートしています。

### キーワード３：ライフサイクル
前述の通り、クラウド上のプロダクトは基本的に`レンタル式`でサービスを販売してるため、一つサービスは利用開始してから、利用できなきなくなる（リソースがリリースされる）までの間には、一つ`ライフサイクル`と言います。

ライフサイクルのステータス変化はサブスクリプションと従量課金によって違います。サブスクリプションは購入したサービスの期限切れによってリリースされるですが、従量課金はお客様が手動でリリースしないかつ料金滞納が発生しない限りは、サービスは自動リリースされることがありません。

イメージについて下記フロー図にご参照ください。

- **サブスクリプション**のライフサイクル

**renewしたが、支払い失敗の場合**

```flow
st=>start: 購入
op1=>operation: 期限切れ
cond=>condition: 延長?
op2=>operation: 15日後サービス停止
op3=>operation: 更に15日後データ削除
e=>end: リリース

st->op1->cond
cond(yes)->op2->op3->e
cond(no)->op1
```
- **従量課金**のライフサイクル

従量課金の料金滞納の影響範囲はアカウント内のすべて従量課金プロダクトです。
途中はRETRYありますよって注釈

```flow
st=>start: 利用開始
op1=>operation: 料金滞納発生
cond=>condition: 滞納継続?
op2=>operation: 15日後サービス停止
op3=>operation: 更に15日後データ削除
e=>end: リリース

st->op1->cond
cond(yes)->op2->op3->e
cond(no)->op1

```

### キーワード４：課金計算単位

クラウドサービスの利用料金を計算する場合は、使用量と使用時間によって一般的には下記項目と計算単位を明確する必要があります。

- 最小課金項目
- 利用量
- 最小利用量単位
- 最小利用量単位単価
- 利用時間（時間制の場合）
- 決済時間単位（時間制の場合）
- 時間単位単価（時間制の場合）

仮に、現在クラウドサービスECSは３つ課金項目があります：

1.  インスタンス利用料金：一時間単位課金(10円／時間)
2.  クラウドディスク料金：ストーレッジ毎に一時間単位課金(1.5円／GB／時間)
3.  ダウンロードトラフィック料金：トラフィック量毎に課金（0.5円／GB）

このインスタンスを三時間を利用し、クラウドディスクは40GB、ダウンロードしたデータ量は120GBの場合は、課金額を計算すると下記表になります。

| 課金項目　|　インスタンス|　クラウドディスク|　トラフィック|
| --------          | :-----:   | :----: | :----: |
| 利用量            | -     |  40GB  |  120GB |
| 最小利用量単位    | -     |  1GB   |  1GB   |
| 最小利用量単位単価| 10円  |  1.5円  |  0.5円|
| 利用時間          | 3時間 |  3時間  |  -    |
| 決済時間単位      | 1時間 |  1時間  |  -    |
| 時間単位単価      |  10円 |  1.5円  |  -    |
| **金額**          |  3*10円 |  40*3*1.5円 |  120*0.5円  |

料金に関する一般的な概念の紹介は以上になります。

次からは具体的に課金項目の考え方や課金体系の詳細と支払いなどを紹介させていただきます。

> ## 課金項目

---

###  基本課金項目

Alibaba Cloudには、リソースの種類によって`コンピューティング`、`ストレージ`、`ネットワークトラフィック`(アウトバウンドデータ転送)3つの基本的なコスト要因があります。

- コンピューティング（Compute）
    * 基本的には`インスタンス`の費用を指します。インスタンスはスペック（CPU、メモリーサイズ）によって価格が異なります。
    * 一部サービスのAPIはAlibaba Cloudのコンピューティングリソースを利用しましたが、お客様独自なインスタンスを立ち上がることではなくて、全体ユーザの共用サービスになったため、`API Call回数`という単位で課金されることが多いです。
    
- ストレージ（Storage）
  ストーレッジの種類によって料金が異なるですが、基本的にGBサイズ単位で一定期間内の使用料を徴収します。

- ネットワークトラフィック（Outbound Traffic）

> ネットワーク料金について、データ転送 (アウトバウンド) は有料ですが、インバウンドデータ転送、または同じリージョン内のその他Alibaba Cloud サービス間でのデータ転送も無料です。

＞＞図の説明を追加
![image_1dclur0eal39fnbohjd9p13s1p.png-1536.1kB][4]

これらの特性は、使用しているAlibaba Cloud製品に応じてわずかに異なりますが、基本的には、これらがコストに最大の影響を与えるコアとなる特性です。それ以外は、各プロダクトの特徴によって独自な課金項目を持ってることもあります。
  
###  プロダクト独自課金項目  

プロダクトのサービス特徴によって、Alibaba Cloudのインフラリソース（Compute、Storage、Network）以外は、いくつ課金される項目があります。例をとして以下の項目があります。

- プロダクトのエンタープライズバージョン費（例：DataV、DNS）
- 工事費（例：ExpressConnectなど工事が必要なプロダクト）
- SSL証明書（第三者提供したサービス）
  
具体的には、各プロダクトの[料金紹介](https://jp.alibabacloud.com/pricing)ページにご参照ください。

> ## 課金体系

基本概念のセッションでも紹介しましたが、Alibaba Cloudは基本的に**サブスクリプション**と**従量課金**二種類の課金方法を提供しています。プロダクトの従量課金と合わせてリソースパッケージ（例：トラフィックパッケージ）も提供されています。

![image_1dcjfs8se1cqt1jhktg1riqjgt9.png-52.3kB][5]

各課金方法の特徴について具体的に紹介させていただきます。

### サブスクリプション
サブスクリプション請求方法は、支払いが行われた後にリソースを使用できる前払いの一種です。

- 紹介
アップグレードとダウングレードのオプションをユーザーに提供します
ユーザーに操作の自動更新を提供します
サブスクリプションを中止するオプションをユーザーにも提供する

- 料金
年間サブスクリプションは、年間価格、毎月の価格、および高価格を含む定期的な価格設定に主に基づいています。

- ライフサイクル管理
購入が成功したとき
7日、3日、有効期限の1日前
期限切れのとき
満了の7日後、リリースの1日前
アップグレードが正常にダウングレードされたとき
更新料が成功したとき

- Spotインスタンス
ECS特有な課金方式

### 従量課金
- 料金
使用単価では、主に1時間ごとの価格、高価格、月額、および使用単価を含む、短期間の価格設定および使用量ベースの方法が採用されています。
- 請求サイクル
現在、Alibaba Cloudの請求は5分、数時間、数日、数ヶ月の定期請求モードを採用しており、この期間が詳細な請求書生成期間を決定し、請求書作成システムはすべての請求サイクルを収集します。元の課金データは価格設定および請求の対象となり、対応する期間に対応する詳細請求書が生成され、ユーザアカウントの残高が差し引かれ、後払い残高が制御されます請求期間は、クラウド製品の測定完了期間にある程度依存します。測定期間、請求期間、およびユーザー出力の測定アルゴリズムは、一貫している必要があります。

- 料金タイプ
現時点では、Alibaba Cloudがユーザーに請求する料金には、課金料金、設定料金が含まれます。
メーター料金
クラウド製品は、ユーザの実際の使用量に応じて測定データを生成し、実際の測定値に応じて使用料を請求します。
設定料：
製品コンソールでリソースを注文または事前に割り当てると、リソース構成は各請求サイクルで比較的固定され、定期的な構成料金は構成ごとに異なります。

- 請求ルール
用途別の請求、非累積非階段
用途別の請求、非累積、非ステッププログレッシブ
構成タイプ別請求、構成によって料金が異なる

- 請求の粒度
課金単位は、明確な調整可能な照合をユーザーに提供し、収益の整合性と正確性を保証できる最小の詳細単位で、課金単位と同等またはそれ以上の細分性があります。請求の粒度
たとえば、ossの測定粒度はバケット、課金粒度はregion + storageTypeであり、クライアントが割り当て、管理、説明できる最小の管理オブジェクトであり、グループ化するバケットにさまざまなタグを追加できます。リソースグループやタグなど

- 請求方法
課金方法は、クラウド製品がユーザーに提供する多様な支払い方法であり、現在、課金アルゴリズムによって課金方法が異なりますが、クラウドサービスは独自のサービスに基づいて課金サービスに属するかどうかを判断できます。有料ビジネスは、厳密な相互排除の関係にあります。
ほとんどのクラウド製品は請求方法を区別する必要はありません。
現在、課金方法を区別する製品には、ＣＤＮ、ＬＩＶＥ、ＶＯＤ、ＰＣＤＮ、ＥＮＳなどがある。新製品がｃｄｎモードに基づいてアクセスされる場合、原則として、すべての課金方法は同時に完了しなければならない。後続サービスの経験とコストの削減
 * フローアカウンティングの使用に応じて
 * 帯域幅ピークによる請求

- 測定ドメイン定義
クラウド製品は、課金方式および製品自体の特性に従って、メータリングドメイン（ユーザーの特定の種類のサービスのメータリングデータを格納するドメイン、つまりドメイン）を定義できますメータリングドメインは、データベーステーブルとしても理解できます。
各計量ドメインについて、異なる計量期間の計量データを保存するために4つのディメンションを定義できます。
 * 準リアルタイム：実際の発生時間に基づく比較的リアルタイムのプッシュ測定データ
 * 時間：統合後に時間単位でプッシュされた測定データ。測定ドメイン内のデータは1時間単位である必要があります。
 * 日：日の組み合わせの後にプッシュされた測定データ。測定ドメインに格納されたデータは日の次元でなければなりません。
 
 同じクラウド製品/サービスで複数の測定ドメインを定義することができますクラウド製品に複数のサービスフォームの組み合わせがある場合は、複数の測定ドメインを定義する必要があります。
トランスコードサービス
CDNサービス
OSSサービス

- メータリング粒度
測定粒度は、ユーザにとって明確で、リソースによってグループ化でき、管理しやすく、測定の整合性と正確性を保証できる最小の測定対象であり、課金の粒度と同等またはそれ以上の精度であることが推奨されます。細かさ
たとえば、ossのボリュームサイズはbucket、請求の細分度はregion + storageType、クライアントが割り当て、管理、説明できる最小の管理オブジェクトこのラベルは、グループ化するバケットに追加することができます。リソースグループやタグなど

- 測定項目の定義
測定項目は、測定粒度に基づいて計量および請求可能なクラウド製品の最小の事業単位であり、測定項目に従ってユーザーの測定粒度の下で使用量データをカウントでき、測定項目はアルゴリズムが明確、セマンティクスが明確、そしてすべての測定が確実に行われます。詳細なコストが発生するまで、アイテムの価値は、完全なプロセスの一貫性、正確性、および完全性を保証する必要があります。

- ライフサイクル管理
滞納が発生した場合
頭金の後の24時間
シャットダウンの7日後にリリース

- インスタンス停止後の課金
ECS には、停止したインスタンス（VPC 接続）には課金しない という機能が導入されています。この機能を有効にすると、停止済みステータスに入ったときに、VPC 接続の従量課金インスタンスに支払う必要はありません。詳細について[こちら](https://jp.alibabacloud.com/help/doc-detail/63353.htm)に参照ください。

### リソースパッケージ
- 概要紹介
リソースパックのみが販売されていて、ペイパーユース品目がない場合、リソースパックは消費のためにトリガーされることはできません。リソースパッケージは、課金項目に基づいてパッケージ化されます最初に、どのパッケージ可能課金アイテムが使用可能であるかを決定する必要があります使用するとき、リソースパッケージ内のリソースの量が優先的に差し引かれます。

- 梱包形態
 * 一定の合計金額：各インスタンスは、サブスクリプション有効期間内の各請求期間に対して有効です（残りの金額は、次の請求期間の控除前の合計金額に復元されます）。
*月額購読タイプ：各インスタンスは、購読有効期間の各自然月内で有効です（最初の月と最後の月は、現在の月の実際の日数に対して有効です）。
 * 総額の減少：各インスタンスは、注文の有効期限内に有効になります（注文の有効期限が切れるまで有効です）。

> ## 価格と割引

Alibaba Cloudの価格影響要因と存在する無料枠などを紹介し、お客様のコスト削減に参考になれると思います。

###  価格の影響要因
- リージョン
- スペック
- 利用量
- ライセンス

### 割引と無料枠

お客様をより手軽いAlibaba Cloudの製品をはじめるために、日本サイト全体適用の無料クーポンをアカウント登録後に付与されます。

また、一部プロダクトは個別に無料枠を用意されていて、お客様のトライアル費用を抑えることが可能です。

- 全体無料トライアル
  * 無料範囲内で 40 以上の製品を最大 1 年間無料でお試しいただけます。簡単な手順でサインアップできます。
  * 30,000 円分のクーポンが利用可能です。
  * 各種サービスの購入時にクーポンを選択していない場合、もしくは付与されたクーポン金額以上ご利用の場合は、全額または差額について請求させていただきますのでご注意ください。
  * スターターパッケージの購入時にクーポンはご利用いただけません。
  * 従量課金をご利用の場合はクーポンの選択は不要です。自動的にクーポンが適用されます。
  * 詳細について[こちら](https://jp.alibabacloud.com/campaign/coupon-freetrial)を参照ください。
- プロダクト個別の無料枠
- Start package割引
- 年間購入割引

### 支払い関連

- 支払い方法
- 払い戻しポリシー
- Billingの確認方法と領収書


> ## プロダクト別注意事項

料金全体ルールの紹介以外は、カテゴリ毎にAlibaba Cloud 基本プロダクトの料金を紹介させていただきます。各製品とその具体的な料金特性に対する料金は、[Alibaba料金表](https://jp.alibabacloud.com/pricing)でご覧いただけます。

> プロダクト毎の課金項目と無料枠の纏めは[こちら](https://docs.google.com/spreadsheets/d/1FpR-ywVzPa4qR4em4eiQ5K1gtXzdh8O8hKMcFRCPjcM/edit#gid=0)を参考ください。

想定外の課金を発生しないようなナレッジ！


### 1. Compute 
 * ECS and EIP
 * Function Compute

### 2. DataBase 
 * RDS
 * Redis
 
### 3. Storage 
 * OSS
 * NAS
 * CDN
  
### 4. NetWork
 * NAT Gateway
 * VPN Gateway
 * ExpressConnect
 * CEN
 
### 5. BigData 
 * MaxCompute
 * Steam Computing
 * E-Mapreduce
 * ElasticSearch


---


  [1]: http://static.zybuluo.com/xkj1314/tbsxejtnbtjqpzlaq19et7xb/image_1dcghej001fom18mo10ug1c1c9cp2e.png
  [2]: http://static.zybuluo.com/xkj1314/k7m01v8umxd4wjp3ovmvo4io/image_1dcgh18uuttn1t90uos5v6ilj9.png
  [3]: http://static.zybuluo.com/xkj1314/8nkmd5qe8w45ag7mbhe7x24y/image_1dcgh6d6n8o8gl817ei157vcbb18.png
  [4]: http://static.zybuluo.com/xkj1314/nsx8fi30pe73xhr29u9y1ij9/image_1dclur0eal39fnbohjd9p13s1p.png
  [5]: http://static.zybuluo.com/xkj1314/e2o2e3pf4e4v7emi1tl9b8ek/image_1dcjfs8se1cqt1jhktg1riqjgt9.png
